name: Push Changes to GitHub Repository

on:
  push:
    branches:
      - main  # Trigger the workflow on changes to the main branch

jobs:
  push-changes:
    runs-on: ubuntu-latest  # This specifies the GitHub-hosted Ubuntu runner

    steps:
      # Checkout the repository
      - name: Checkout the repository
        uses: actions/checkout@v2

      # Set up Git with the GitHub Actions user details
      - name: Set up Git user
        run: |
          git config --global user.name "GitHub Actions"
          git config --global user.email "actions@github.com"

      # Make changes (for example: create or modify a file)
      - name: Create a new file (for example purposes)
        run: echo "This file was generated by GitHub Actions" > generated-file.txt

      # Stage the changes (add modified files to git index)
      - name: Stage changes
        run: git add .

      # Commit the changes
      - name: Commit changes
        run: git commit -m "Add generated file"

      # Push changes back to the repository
      - name: Push changes to the repository
        run: |
          git push https://github.com/${{ secrets.GITHUB_ACTOR }}:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }} HEAD:${{ github.ref }}
